"use strict";(self.webpackChunksolvia_web=self.webpackChunksolvia_web||[]).push([[294],{9294:(e,s,r)=>{r.r(s),r.d(s,{default:()=>c});var t=r(5043),a=r(3557),n=r(2264),i=r(69),l=r(579);const c=e=>{let{currentWallet:s}=e;const[r,c]=(0,t.useState)(""),[d,o]=(0,t.useState)([]),[u,f]=(0,t.useState)("");(0,t.useEffect)((()=>{const e=localStorage.getItem("peers_".concat(s));e&&o(JSON.parse(e));const r=e=>{if(console.log("Peer connected:",e),e.address&&!d.includes(e.address)){const r=[...d,e.address];o(r),localStorage.setItem("peers_".concat(s),JSON.stringify(r))}},t=e=>{if(e.requester&&!d.includes(e.requester)){const r=[...d,e.requester];o(r),localStorage.setItem("peers_".concat(s),JSON.stringify(r)),i.sZ.emit("peer_accepted",{address:s,acceptedPeer:e.requester})}};return i.sZ.on("peer_connected",r),i.sZ.on("peer_request",t),()=>{i.sZ.off("peer_connected",r),i.sZ.off("peer_request",t)}}),[s,d]);return(0,l.jsxs)("div",{className:"space-y-4 p-4 bg-white rounded-lg shadow",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Ki\u015filer"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(n.p,{type:"text",placeholder:"C\xfczdan adresi ekle",value:r,onChange:e=>c(e.target.value),className:"flex-1"}),(0,l.jsx)(a.$,{onClick:async()=>{try{if(!r)return void f("L\xfctfen bir c\xfczdan adresi girin");if(r===s)return void f("Kendi c\xfczdan adresinizi ekleyemezsiniz");if(d.includes(r))return void f("Bu c\xfczdan adresi zaten ekli");i.sZ.emit("add_peer",{address:r,requester:s}),c(""),f("")}catch(u){console.error("Peer ekleme hatas\u0131:",u),f("Peer eklenirken bir hata olu\u015ftu")}},children:"Ekle"})]}),u&&(0,l.jsx)("p",{className:"text-red-500 text-sm",children:u}),(0,l.jsx)("div",{className:"space-y-2",children:d.map(((e,r)=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,l.jsxs)("span",{className:"text-sm",children:[e.slice(0,6),"...",e.slice(-4)]}),(0,l.jsx)(a.$,{variant:"ghost",size:"sm",onClick:()=>(e=>{const r=d.filter((s=>s!==e));o(r),localStorage.setItem("peers_".concat(s),JSON.stringify(r)),i.sZ.emit("peer_removed",{address:s,removedPeer:e})})(e),children:"Kald\u0131r"})]},r)))})]})}},2264:(e,s,r)=>{r.d(s,{p:()=>d});var t=r(9379),a=r(3986),n=r(5043),i=r(3361),l=r(579);const c=["className","type"],d=n.forwardRef(((e,s)=>{let{className:r,type:n}=e,d=(0,a.A)(e,c);return(0,l.jsx)("input",(0,t.A)({type:n,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s},d))}));d.displayName="Input"}}]);
//# sourceMappingURL=294.1a0887a4.chunk.js.map